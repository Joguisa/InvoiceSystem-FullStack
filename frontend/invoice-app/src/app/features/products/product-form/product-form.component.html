<form [formGroup]="form" (ngSubmit)="submit()" class="flex flex-column gap-4">
    <div class="flex flex-column gap-2">
        <label for="code">Código *</label>
        <input pInputText id="code" formControlName="code" appInputMask="alphanumeric" [maxLength]="20"
            [class.ng-invalid]="(submitted() || f['code'].touched) && f['code'].errors"
            [class.ng-dirty]="(submitted() || f['code'].touched) && f['code'].errors" />
        <small *ngIf="(submitted() || f['code'].touched) && f['code'].errors?.['required']" class="text-red-500">
            Código es requerido.
        </small>
        <small *ngIf="(submitted() || f['code'].touched) && f['code'].errors?.['maxlength']" class="text-red-500">
            Código no puede exceder 20 caracteres.
        </small>
    </div>

    <div class="flex flex-column gap-2">
        <label for="name">Nombre *</label>
        <input pInputText id="name" formControlName="name"
            [class.ng-invalid]="(submitted() || f['name'].touched) && f['name'].errors"
            [class.ng-dirty]="(submitted() || f['name'].touched) && f['name'].errors" />
        <small *ngIf="(submitted() || f['name'].touched) && f['name'].errors?.['required']" class="text-red-500">
            Nombre es requerido.
        </small>
        <small *ngIf="(submitted() || f['name'].touched) && f['name'].errors?.['minlength']" class="text-red-500">
            Nombre debe tener al menos 2 caracteres.
        </small>
        <small *ngIf="(submitted() || f['name'].touched) && f['name'].errors?.['maxlength']" class="text-red-500">
            Nombre no puede exceder 100 caracteres.
        </small>
    </div>

    <div class="flex flex-column gap-2">
        <label for="description">Descripción</label>
        <textarea pInputTextarea id="description" formControlName="description" rows="3"
            [class.ng-invalid]="(submitted() || f['description'].touched) && f['description'].errors"
            [class.ng-dirty]="(submitted() || f['description'].touched) && f['description'].errors"></textarea>
        <small *ngIf="(submitted() || f['description'].touched) && f['description'].errors?.['maxlength']"
            class="text-red-500">
            Descripción no puede exceder 200 caracteres.
        </small>
    </div>

    <div class="grid">
        <div class="col-12 md:col-6 flex flex-column gap-2">
            <label for="unitPrice">Precio Unitario *</label>
            <input pInputText id="unitPrice" formControlName="unitPrice" appInputMask="decimal" placeholder="0.00"
                [maxLength]="12" [class.ng-invalid]="(submitted() || f['unitPrice'].touched) && f['unitPrice'].errors"
                [class.ng-dirty]="(submitted() || f['unitPrice'].touched) && f['unitPrice'].errors" />
            <small *ngIf="(submitted() || f['unitPrice'].touched) && f['unitPrice'].errors?.['required']"
                class="text-red-500">
                Precio es requerido.
            </small>
            <small *ngIf="(submitted() || f['unitPrice'].touched) && f['unitPrice'].errors?.['min']"
                class="text-red-500">
                Precio debe ser mayor a 0.
            </small>
        </div>

        <div class="col-12 md:col-6 flex flex-column gap-2">
            <label for="stock">Stock *</label>
            <input pInputText id="stock" formControlName="stock" appInputMask="numeric" placeholder="0" [maxLength]="8"
                [class.ng-invalid]="(submitted() || f['stock'].touched) && f['stock'].errors"
                [class.ng-dirty]="(submitted() || f['stock'].touched) && f['stock'].errors" />
            <small *ngIf="(submitted() || f['stock'].touched) && f['stock'].errors?.['required']" class="text-red-500">
                Stock es requerido.
            </small>
            <small *ngIf="(submitted() || f['stock'].touched) && f['stock'].errors?.['min']" class="text-red-500">
                Stock debe ser mayor o igual a 0.
            </small>
        </div>
    </div>

    <div class="flex justify-content-end gap-2 mt-4">
        <p-button label="Cancelar" severity="secondary" [text]="true" (onClick)="onCancel.emit()"></p-button>
        <p-button label="Guardar" type="submit" [icon]="'pi pi-check'"></p-button>
    </div>
</form>